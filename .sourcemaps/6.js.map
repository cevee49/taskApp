{"version":3,"sources":["../../src/pages/task-list/task-list.module.ts","../../src/pages/task-list/task-list.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TaskListPage } from './task-list';\n\n@NgModule({\n  declarations: [\n    TaskListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TaskListPage),\n  ],\n})\nexport class TaskListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/task-list/task-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController  } from 'ionic-angular';\nimport { TaskProvider } from \"../../providers/task/task\";\nimport { LocationProvider } from \"../../providers/location/location\";\nimport { FormControl } from '@angular/forms';\n/**\n * Generated class for the TaskListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-task-list',\n  templateUrl: 'task-list.html',\n})\nexport class TaskListPage {\n  public taskList: Array<any>;\n  public loadedTaskList: Array<any>;\n  searching: any = false;\n\n\n  constructor(\n    public navCtrl: NavController, \n    public taskProvider: TaskProvider,\n    public locationProvider: LocationProvider,\n    public modalCtrl: ModalController\n  ) {}\n\n  initializeItems():void {\n    this.taskList = this.loadedTaskList;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TaskListPage');\n    this.taskProvider.getTaskList().on(\"value\", taskListSnapshot => {\n      let tasks = [];\n      taskListSnapshot.forEach(snap => {\n        tasks.push({\n          id: snap.key,\n          name: snap.val().name,\n          date: snap.val().date,\n          category: snap.val().category,\n          location: snap.val().location.place,\n          lat :snap.val().location.latitude,\n          lng :snap.val().location.longitude,\n          description: snap.val().description,\n          budget: parseInt(snap.val().budget), \n          taskerNumber: snap.val().taskerNumber,\n        });\n        \n        return false;\n      });\n      this.taskList = tasks;\n      this.loadedTaskList = tasks;   \n    })\n  }\n\n  goToTaskDetail(taskId):void{\n    this.navCtrl.push('TaskDetailPage', {taskId: taskId});\n  }\n\n  getItems(searchbar) {\n    this.initializeItems();\n    var q = searchbar.target.value;\n\n    if(!q) {\n      return;\n    }\n\n    this.taskList = this.taskList.filter((v) => {\n      if(v.name && q) {\n        if(v.name.toLowerCase().indexOf(q.toLowerCase()) > -1) {\n          return true;\n        }\n        return false;\n      }\n    });\n\n    console.log(q, this.taskList.length);\n  }\n\n  openFilter(){\n    let modal = this.modalCtrl.create('TaskFilterPage');\n    modal.onDidDismiss(data => {\n      const taskCat = data.taskCat;\n      const lat = data.lat;\n      const lng = data.lng;\n      const type = data.type;\n      const hide = data.hide;\n      const min = data.min;\n      const max = data.max;\n      const distance = data.distance;\n      \n      this.taskList = this.loadedTaskList.filter((v) => {\n        \n        if(v.category && taskCat != \"All categories\") {\n          if(v.category !=taskCat  ) {\n            return false;\n          }\n        }\n        if(v.location && type != `All`){\n          if((type===`Online` && v.location!=`online`) ||(type===`In person` && v.location ===`online`) ){\n            return false;\n          }\n        }\n        console.log(this.locationProvider.applyHaversine(v.lat,v.lng, lat, lng));\n        if(v.lat &&v.lng && distance != `50+`) {\n            if(this.locationProvider.applyHaversine(v.lat,v.lng, lat, lng)>distance) {\n                return false;\n          }  \n        }\n        if(v.budget!= null){\n          if(v.budget<min || v.budget>max){\n            return false;\n          }\n        }\n        if(v.taskerNumber !=null && hide){\n          if(v.taskerNumber==0){\n            return false;\n          }\n        }\n        return true;\n      });\n       \n      \n      \n    });\n    modal.present();\n  \n \n\n    // this.taskList = this.taskList.filter((v) => {\n    //   if(v.lat &&v.lng) {\n    //     if(this.locationProvider.applyHaversine(v.lat,v.lng, lat, lng)<50) {\n    //       return true;\n    //     }\n    //     return false;\n    //   }\n    // });\n\n  }\n\n  postTask(){\n    this.navCtrl.push('TaskCreatePage');\n  }\n\n  openChatlist(){\n    this.navCtrl.push('ChatListPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/task-list/task-list.ts"],"sourceRoot":""}
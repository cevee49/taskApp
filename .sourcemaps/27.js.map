{"version":3,"sources":["../../src/pages/chat-list/chat-list.module.ts","../../src/pages/chat-list/chat-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAU3C,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAR9B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,gEAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,gEAAY,CAAC;SACvC;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZW;AACe;AACA;AAEzD;;;;;GAKG;AAOH,IAAa,YAAY;IAGvB,sBACS,OAAsB,EACtB,SAAoB,EACpB,YAA0B;QAF1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,iBAAY,GAAZ,YAAY,CAAc;IAChC,CAAC;IAEJ,qCAAc,GAAd;QAAA,iBAoBC;QAnBC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAG3C,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;aAC9B,YAAY,CAAC,WAAW,CAAC;aACzB,EAAE,CAAC,OAAO,EAAE,0BAAgB;YAC3B,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,gBAAgB,CAAC,OAAO,CAAC,cAAI;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACjB,EAAE,EAAE,IAAI,CAAC,GAAG;oBACZ,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,OAAO;oBAC3B,SAAS,EAAE,CAAC,GAAC,IAAI,CAAC,GAAG,EAAE,CAAC,SAAS;oBACjC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM;oBACzB,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,OAAO;iBAC5B,CAAC,CAAC;gBACH,MAAM,CAAC,KAAK,CAAC;YACf,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAY,GAAZ,UAAc,MAAM,EAAE,OAAO;QAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;IACxE,CAAC;IACH,mBAAC;AAAD,CAAC;AAlCY,YAAY;IAJxB,wEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACG;KAC9B,CAAC;yEAK+B;QACX,0EAAS;QACN,SAAY;AA4BpC;SAlCY,YAAY,gB","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatListPage } from './chat-list';\n\n@NgModule({\n  declarations: [\n    ChatListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChatListPage),\n  ],\n})\nexport class ChatListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-list/chat-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ChatProvider } from \"../../providers/chat/chat\";\n\n/**\n * Generated class for the ChatListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-chat-list',\n  templateUrl: 'chat-list.html',\n})\nexport class ChatListPage {\n  public chatlist : Array<any>;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public chatProvider: ChatProvider\n  ) {}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChatListPage');\n\n    \n    this.chatProvider.getChatList()\n    .orderByChild('timestamp')\n    .on(\"value\", chatListSnapshot => {\n      this.chatlist = [];\n      chatListSnapshot.forEach(snap => {\n        console.log(snap.val().lastmsg);\n        this.chatlist.push({\n          id: snap.key,\n          lastmsg: snap.val().lastmsg,\n          timestamp: 0-snap.val().timestamp,\n          taskId: snap.val().taskId,\n          buddyId: snap.val().buddyId\n        });\n        return false;\n      });\n    });\n  }\n\n  goToChatroom (taskId, buddyId): void{\n    this.navCtrl.push('ChatroomPage', {buddyId: buddyId, taskId: taskId});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-list/chat-list.ts"],"sourceRoot":""}